\hypertarget{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_balance_strategy}{}\section{com.\+mysql.\+cj.\+jdbc.\+ha.\+Balance\+Strategy Interface Reference}
\label{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_balance_strategy}\index{com.\+mysql.\+cj.\+jdbc.\+ha.\+Balance\+Strategy@{com.\+mysql.\+cj.\+jdbc.\+ha.\+Balance\+Strategy}}


Inherited by \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_best_response_time_balance_strategy}{com.\+mysql.\+cj.\+jdbc.\+ha.\+Best\+Response\+Time\+Balance\+Strategy}}, \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_random_balance_strategy}{com.\+mysql.\+cj.\+jdbc.\+ha.\+Random\+Balance\+Strategy}}, and \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_sequential_balance_strategy}{com.\+mysql.\+cj.\+jdbc.\+ha.\+Sequential\+Balance\+Strategy}}.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
abstract \mbox{\hyperlink{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1_jdbc_connection}{Jdbc\+Connection}} \mbox{\hyperlink{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_balance_strategy_a754b8e7a4e4baad812f650b3222cfbd5}{pick\+Connection}} (Invocation\+Handler proxy, List$<$ String $>$ configured\+Hosts, Map$<$ String, \mbox{\hyperlink{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1_jdbc_connection}{Jdbc\+Connection}} $>$ live\+Connections, long\mbox{[}$\,$\mbox{]} response\+Times, int num\+Retries)  throws S\+Q\+L\+Exception
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implement this interface to provide a new load balancing strategy for U\+R\+Ls of the form \char`\"{}jdbc\+:mysql\+:loadbalance\+://..\char`\"{}, and provide the implementation class name as the configuration parameter \char`\"{}load\+Balance\+Strategy\char`\"{}.

The driver will not pass in a Connection instance when calling init(), but it will pass in the Properties, otherwise it acts like a normal Extension.

One instance of a strategy {\itshape per} J\+D\+BC connection instance will be created. If you need singleton-\/like behavior, you\textquotesingle{}re on your own to provide it. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_balance_strategy_a754b8e7a4e4baad812f650b3222cfbd5}\label{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_balance_strategy_a754b8e7a4e4baad812f650b3222cfbd5}} 
\index{com\+::mysql\+::cj\+::jdbc\+::ha\+::\+Balance\+Strategy@{com\+::mysql\+::cj\+::jdbc\+::ha\+::\+Balance\+Strategy}!pick\+Connection@{pick\+Connection}}
\index{pick\+Connection@{pick\+Connection}!com\+::mysql\+::cj\+::jdbc\+::ha\+::\+Balance\+Strategy@{com\+::mysql\+::cj\+::jdbc\+::ha\+::\+Balance\+Strategy}}
\subsubsection{\texorpdfstring{pick\+Connection()}{pickConnection()}}
{\footnotesize\ttfamily abstract \mbox{\hyperlink{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1_jdbc_connection}{Jdbc\+Connection}} com.\+mysql.\+cj.\+jdbc.\+ha.\+Balance\+Strategy.\+pick\+Connection (\begin{DoxyParamCaption}\item[{Invocation\+Handler}]{proxy,  }\item[{List$<$ String $>$}]{configured\+Hosts,  }\item[{Map$<$ String, \mbox{\hyperlink{interfacecom_1_1mysql_1_1cj_1_1jdbc_1_1_jdbc_connection}{Jdbc\+Connection}} $>$}]{live\+Connections,  }\item[{long \mbox{[}$\,$\mbox{]}}]{response\+Times,  }\item[{int}]{num\+Retries }\end{DoxyParamCaption}) throws S\+Q\+L\+Exception\hspace{0.3cm}{\ttfamily [abstract]}}

Called by the driver to pick a new connection to route requests over. See \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_load_balanced_connection_proxy_a27662d65e82acb86f3cc6af3f4f331ee}{Load\+Balanced\+Connection\+Proxy.\+create\+Connection\+For\+Host(\+String)}}


\begin{DoxyParams}{Parameters}
{\em proxy} & the Invocation\+Handler that deals with actual method calls to the J\+D\+BC connection, and serves as a factory for new connections for this strategy via the create\+Connection\+For\+Host() method.\\
\hline
\end{DoxyParams}
This proxy takes care of maintaining the response time list, map of host/ports to live connections, and taking connections out of the live connections map if they receive a network-\/related error while they are in use by the application. 
\begin{DoxyParams}{Parameters}
{\em configured\+Hosts} & the list of hosts/ports (in \char`\"{}host\+:port\char`\"{} form) as passed in by the user. \\
\hline
{\em live\+Connections} & a map of host/ports to \char`\"{}live\char`\"{} connections to them. \\
\hline
{\em response\+Times} & the list of response times for a {\bfseries transaction} for each host in the configured hosts list. \\
\hline
{\em num\+Retries} & the number of times the driver expects this strategy to re-\/try connection attempts if creating a new connection fails. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the physical J\+D\+BC connection for the application to use, based upon the strategy employed. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em S\+Q\+L\+Exception} & if a new connection can not be found or created by this strategy. \\
\hline
\end{DoxyExceptions}


Implemented in \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_server_affinity_strategy_adea6043b91b0a489e31de053e0f4cd25}{com.\+mysql.\+cj.\+jdbc.\+ha.\+Server\+Affinity\+Strategy}}, \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_sequential_balance_strategy_a2fb26910a5b3161faa35e0264d5c7adc}{com.\+mysql.\+cj.\+jdbc.\+ha.\+Sequential\+Balance\+Strategy}}, \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_random_balance_strategy_aefbfa275d5d20205e6eb812224da5a2c}{com.\+mysql.\+cj.\+jdbc.\+ha.\+Random\+Balance\+Strategy}}, and \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1jdbc_1_1ha_1_1_best_response_time_balance_strategy_a74a8dcc0f838d2df9ff727db02bfe628}{com.\+mysql.\+cj.\+jdbc.\+ha.\+Best\+Response\+Time\+Balance\+Strategy}}.



The documentation for this interface was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pruebas/mysql-\/connector-\/java-\/8.\+0.\+11/src/main/user-\/api/java/com/mysql/cj/jdbc/ha/Balance\+Strategy.\+java\end{DoxyCompactItemize}
