\hypertarget{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security}{}\section{com.\+mysql.\+cj.\+protocol.\+Security Class Reference}
\label{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security}\index{com.\+mysql.\+cj.\+protocol.\+Security@{com.\+mysql.\+cj.\+protocol.\+Security}}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a6529697fb27ef62f6a21cb347f5e4c99}{xor\+String}} (byte\mbox{[}$\,$\mbox{]} from, byte\mbox{[}$\,$\mbox{]} to, byte\mbox{[}$\,$\mbox{]} scramble, int length)
\item 
\mbox{\Hypertarget{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_abe3782ad69fe2237705cbf44e28ab779}\label{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_abe3782ad69fe2237705cbf44e28ab779}} 
static byte \mbox{[}$\,$\mbox{]} {\bfseries scramble411} (String password, byte\mbox{[}$\,$\mbox{]} seed, String password\+Encoding)
\item 
static byte \mbox{[}$\,$\mbox{]} \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a1459b1e2d3828790e1d8982e65e68b34}{scramble411}} (byte\mbox{[}$\,$\mbox{]} password, byte\mbox{[}$\,$\mbox{]} seed)
\item 
static byte \mbox{[}$\,$\mbox{]} \mbox{\hyperlink{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a0f3d13ee7c5799791fe54f3857581bfd}{scramble\+Caching\+Sha2}} (byte\mbox{[}$\,$\mbox{]} password, byte\mbox{[}$\,$\mbox{]} seed)  throws Digest\+Exception 
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Methods for doing secure authentication with My\+S\+Q\+L-\/4.\+1 and newer. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a1459b1e2d3828790e1d8982e65e68b34}\label{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a1459b1e2d3828790e1d8982e65e68b34}} 
\index{com\+::mysql\+::cj\+::protocol\+::\+Security@{com\+::mysql\+::cj\+::protocol\+::\+Security}!scramble411@{scramble411}}
\index{scramble411@{scramble411}!com\+::mysql\+::cj\+::protocol\+::\+Security@{com\+::mysql\+::cj\+::protocol\+::\+Security}}
\subsubsection{\texorpdfstring{scramble411()}{scramble411()}}
{\footnotesize\ttfamily static byte \mbox{[}$\,$\mbox{]} com.\+mysql.\+cj.\+protocol.\+Security.\+scramble411 (\begin{DoxyParamCaption}\item[{byte \mbox{[}$\,$\mbox{]}}]{password,  }\item[{byte \mbox{[}$\,$\mbox{]}}]{seed }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Hashing for My\+S\+Q\+L-\/4.\+1 authentication. Algorithm is as follows (c.\+f. {\itshape sql/auth/password.\+c})\+:


\begin{DoxyPre}
SERVER: public\_seed=create\_random\_string()
send(public\_seed)\end{DoxyPre}



\begin{DoxyPre}CLIENT: recv(public\_seed)
hash\_stage1=sha1("password")
hash\_stage2=sha1(hash\_stage1)
reply=xor(hash\_stage1, sha1(public\_seed,hash\_stage2))
send(reply)
\end{DoxyPre}
 \mbox{\Hypertarget{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a0f3d13ee7c5799791fe54f3857581bfd}\label{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a0f3d13ee7c5799791fe54f3857581bfd}} 
\index{com\+::mysql\+::cj\+::protocol\+::\+Security@{com\+::mysql\+::cj\+::protocol\+::\+Security}!scramble\+Caching\+Sha2@{scramble\+Caching\+Sha2}}
\index{scramble\+Caching\+Sha2@{scramble\+Caching\+Sha2}!com\+::mysql\+::cj\+::protocol\+::\+Security@{com\+::mysql\+::cj\+::protocol\+::\+Security}}
\subsubsection{\texorpdfstring{scramble\+Caching\+Sha2()}{scrambleCachingSha2()}}
{\footnotesize\ttfamily static byte \mbox{[}$\,$\mbox{]} com.\+mysql.\+cj.\+protocol.\+Security.\+scramble\+Caching\+Sha2 (\begin{DoxyParamCaption}\item[{byte \mbox{[}$\,$\mbox{]}}]{password,  }\item[{byte \mbox{[}$\,$\mbox{]}}]{seed }\end{DoxyParamCaption}) throws Digest\+Exception\hspace{0.3cm}{\ttfamily [static]}}

Scrambling for caching\+\_\+sha2\+\_\+password plugin.


\begin{DoxyPre}
Scramble = XOR(SHA2(password), SHA2(SHA2(SHA2(password)), Nonce))
\end{DoxyPre}



\begin{DoxyExceptions}{Exceptions}
{\em Digest\+Exception} & \\
\hline
\end{DoxyExceptions}
\mbox{\Hypertarget{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a6529697fb27ef62f6a21cb347f5e4c99}\label{classcom_1_1mysql_1_1cj_1_1protocol_1_1_security_a6529697fb27ef62f6a21cb347f5e4c99}} 
\index{com\+::mysql\+::cj\+::protocol\+::\+Security@{com\+::mysql\+::cj\+::protocol\+::\+Security}!xor\+String@{xor\+String}}
\index{xor\+String@{xor\+String}!com\+::mysql\+::cj\+::protocol\+::\+Security@{com\+::mysql\+::cj\+::protocol\+::\+Security}}
\subsubsection{\texorpdfstring{xor\+String()}{xorString()}}
{\footnotesize\ttfamily static void com.\+mysql.\+cj.\+protocol.\+Security.\+xor\+String (\begin{DoxyParamCaption}\item[{byte \mbox{[}$\,$\mbox{]}}]{from,  }\item[{byte \mbox{[}$\,$\mbox{]}}]{to,  }\item[{byte \mbox{[}$\,$\mbox{]}}]{scramble,  }\item[{int}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Encrypt/\+Decrypt function used for password encryption in authentication

Simple X\+OR is used here but it is OK as we encrypt random strings


\begin{DoxyParams}{Parameters}
{\em from} & IN Data for encryption \\
\hline
{\em to} & O\+UT Encrypt data to the buffer (may be the same) \\
\hline
{\em scramble} & IN Scramble used for encryption \\
\hline
{\em length} & IN Length of data to encrypt \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pruebas/mysql-\/connector-\/java-\/8.\+0.\+11/src/main/core-\/impl/java/com/mysql/cj/protocol/Security.\+java\end{DoxyCompactItemize}
